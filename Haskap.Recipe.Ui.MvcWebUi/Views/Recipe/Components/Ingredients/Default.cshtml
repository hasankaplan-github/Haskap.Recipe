@using Haskap.Recipe.Application.Dtos.Recipies;

@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@

@model RecipeOutputDto

@{
}


@foreach (var ingredientGroup in Model.Ingredients.GroupBy(x => x.IngredientGroupId))
{
    <div class="card card-success shadow-lg">
        <div class="card-header">
            <h3 class="card-title">@ingredientGroup.FirstOrDefault()?.IngredientGroup.Name</h3>

            <div class="card-tools">
                <button type="button" class="btn btn-tool" data-card-widget="collapse">
                    <i class="fas fa-minus"></i>
                </button>
            </div>
            <!-- /.card-tools -->
        </div>
        <!-- /.card-header -->
        <div class="card-body">
            <div class="row">
                @foreach (var ingredient in ingredientGroup)
                {
                    <div class="col-md-3">
                        <div class="info-box">
                            @* <span class="info-box-icon bg-info"><i class="far fa-envelope"></i></span> *@

                            <div class="info-box-content">
                                <span class="info-box-text">@ingredient.Amount.Value @ingredient.Amount.Unit.Name @ingredient.Name</span>
                                <span class="info-box-number">
                                    <button class="btn btn-primary" id="updateIngredientButton" onclick="showUpdateIngredientModal('@Model.Id', '@ingredient.Id');">Güncelle</button>
                                    <button class="btn btn-danger" id="deleteIngredientButton" onclick="deleteIngredient('@Model.Id', '@ingredient.Id');">Sil</button>
                                </span>
                            </div>
                            <!-- /.info-box-content -->
                        </div>
                        <!-- /.info-box -->
                    </div>
                }
            </div>
        </div>
        <!-- /.card-body -->
    </div>
    <!-- /.card -->
}
